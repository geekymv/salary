<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<!-- 配置3种扩展名 .action .do  默认不写-->
	<constant name="struts.action.extension" value="action,do,,"></constant>
	<!-- 允许动态方法调用 -->
    <constant name="struts.enable.DynamicMethodInvocation" value="true" />
    <constant name="struts.devMode" value="true" />

	<!-- 首页 -->
	<package name="default" namespace="/" extends="struts-default">
		<action name="index" class="indexAction" method="list">
			<result name="list">/main.jsp</result>
		</action>
		
		<action name="index-*" class="indexAction" method="{1}">
			<result name="list">/main.jsp</result>
			<result name="details">/WEB-INF/main/details.jsp</result>
		</action>

	</package>

	 <package name="user" namespace="/user" extends="struts-default">
    
		<action name="user-*" class="userAction" method="{1}">
			<result name="loginSuccess" type="redirectAction">
				<param name="actionName">login-success</param>
			</result>
			
			<!-- 退出登录 -->
			<result name="logout" type="redirect">/login.jsp</result>


			<result name="registerSuccess" type="redirect">/login.jsp</result>
			<result name="input">/login.jsp</result>
		</action>
		
		<!-- 用户区分不同的用户 -->
		<action name="login-success" class="loginSuccessAction" method="success">
			<result name="student" type="redirectAction">
				<param name="actionName">loginSuccess</param>
				<param name="namespace">/student</param>
			</result>
			<result name="employer" type="redirectAction">
				<param name="actionName">loginSuccess</param>
				<param name="namespace">/employer</param>
			</result>
			<result name="admin">/WEB-INF/admin/main.jsp</result>
			
			<result name="error" type="redirect">/login.jsp</result>
		</action>
	
	</package>
	
	<package name="student" namespace="/student" extends="struts-default">
		<action name="loginSuccess"  class="studentAction" method="listRecruit">
			<result name="listRecruit">/WEB-INF/student/main.jsp</result>
		</action>
		
		<action name="stu-*" class="studentAction" method="{1}">
			<result name="listRecruit">/WEB-INF/student/main.jsp</result>
			<result name="details">/WEB-INF/student/details.jsp</result>	
	
			<result name="stuInfo">/WEB-INF/student/stu-info.jsp</result>			
			
			<result name="error" type="redirect">/login.jsp</result>
			
		</action>
	
	</package>
	

	<!-- 学生 
	<package name="student" namespace="/student" extends="struts-default">
		<action name="loginSuccess"  class="studentAction" method="listRecruit">
			<result name="listRecruit" type="redirectAction">
				<param name="actionName">recruit-list</param>
				<param name="namespace">/recruit</param>
			</result>
		</action>
		
		<action name="stu-*" class="studentAction" method="{1}">
			<result>/WEB-INF/student/main.jsp</result>
		</action>
	
	</package>
	-->
	
	
	<!-- 招聘信息
	<package name="recruit" namespace="/recruit" extends="struts-default">
		<action name="recruit-*" class="recruitAction" method="{1}">
			<result name="student">/WEB-INF/student/main.jsp</result>
			<result name="details">/WEB-INF/student/details.jsp</result>	
			<result name="error" type="redirect">/login.jsp</result>
		</action>
	</package>
 	-->
	
	<!-- 学院和社团 -->
	<package name="employer" namespace="/employer" extends="struts-default">
		<action name="loginSuccess">
			<result>/WEB-INF/employer/main.jsp</result>
		</action>
		<action name="emp-*" class="employerAction" method="{1}">
			<result>/index.jsp</result>
		</action>
	</package>

</struts>


























